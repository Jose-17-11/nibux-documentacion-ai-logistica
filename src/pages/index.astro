---
import Layout from '../layouts/Layout.astro';
import ChatWidget from '../components/ChatWidget.jsx'; // importar el widget

const docSections = [
  {
    title: 'Guías',
    items: [
      // { name: 'Todas las guías', path: '/guias/' },
      { name: 'Guía super agente', path: '/guias/super_agente' },
      { name: 'Guía repartidor', path: '/guias/repartidor' },
    ]
  }
];
---

<Layout>
  <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <!-- Navegación con Tailwind -->
      <div class="relative inline-block text-left mb-12">
        <details class="relative group">
          <summary class="inline-flex justify-center items-center w-full rounded-md border border-transparent bg-indigo-600 px-6 py-4 text-lg font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-indigo-100 cursor-pointer transition-all duration-200 group-hover:bg-indigo-700">
            <span class="mr-2">📚</span>
            Documentación
            <svg class="ml-2 -mr-1 h-5 w-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </summary>
          <div class="origin-top-left absolute left-0 mt-2 w-72 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10 transition-all duration-200 transform opacity-0 scale-95 group-open:opacity-100 group-open:scale-100">
            <div class="py-4 px-4">
              {docSections.map(section => (
                <div class="mb-4 last:mb-0">
                  <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2">{section.title}</h4>
                  <ul class="space-y-1">
                    {section.items.map(item => (
                      <li>
                        <a href={item.path} class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors duration-150">
                          {item.name}
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>
              ))}
            </div>
          </div>
        </details>
      </div>

      <!-- Contenido principal -->
      <section class="bg-white rounded-2xl shadow-lg p-8 md:p-12">
        <div class="text-center mb-10">
          <h1 class="text-4xl font-bold text-gray-900 mb-4">Bienvenido a la Documentación</h1>
          <p class="text-xl text-gray-600 max-w-2xl mx-auto">Selecciona una guía del menú para comenzar a explorar nuestros recursos y tutoriales.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-12">
          <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
            <div class="text-blue-800 text-3xl mb-4">📖</div>
            <h2 class="text-xl font-semibold text-gray-900 mb-2">Guía super agente</h2>
            <p class="text-gray-600 mb-4">Descripción breve de la primera guía y lo que los usuarios pueden aprender.</p>
            <a href="/guias/super_agente" class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium">
              Leer guía
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>

          <div class="bg-purple-50 p-6 rounded-xl border border-purple-100">
            <div class="text-purple-800 text-3xl mb-4">📄</div>
            <h2 class="text-xl font-semibold text-gray-900 mb-2">Guía repartidor</h2>
            <p class="text-gray-600 mb-4">Descripción breve de la segunda guía y los temas que cubre esta documentación.</p>
            <a href="/guias/repartidor" class="inline-flex items-center text-purple-600 hover:text-purple-800 font-medium">
              Leer guía
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
          <ChatWidget client:load />
        </div>

        <!-- <div class="text-center mt-12 pt-8 border-t border-gray-100">
          <p class="text-gray-500">¿No encuentras lo que buscas?</p>
          <a href="/guias/" class="inline-block mt-2 text-indigo-600 hover:text-indigo-800 font-medium">
            Ver todas las guías disponibles
          </a>
        </div> -->
      </section>
    </div>
  </div>
</Layout>